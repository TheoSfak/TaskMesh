# TaskMesh - Gantt Chart & Timeline Feature

## Οδηγός Χρήσης

### 📊 Τι είναι το Gantt Chart & Timeline;

Το Gantt Chart είναι ένα εργαλείο οπτικοποίησης που σας επιτρέπει να δείτε όλες τις εργασίες σας σε μια χρονολογική σειρά, με εξαρτήσεις, milestones και critical path analysis.

---

## 🚀 Ξεκινώντας

### Πρόσβαση στο Timeline

1. Από το Dashboard, κάντε κλικ στο **"Timeline"** στο αριστερό μενού
2. Ή από το Home page, κλικ στο κουμπί **"Timeline"** στις γρήγορες ενέργειες

---

## 📋 Βασικές Λειτουργίες

### 1. Φίλτρα

**Ομάδα (Team)**
- Επιλέξτε μια συγκεκριμένη ομάδα για να δείτε μόνο τις εργασίες της

**Χρήστης (User)**
- Φιλτράρετε εργασίες που έχουν ανατεθεί σε συγκεκριμένο χρήστη

**Εύρος Ημερομηνιών**
- Ορίστε "Από" και "Έως" ημερομηνίες για να περιορίσετε την προβολή

### 2. Προβολές (Views)

**Gantt View**
- Οπτικοποίηση εργασιών σε χρονοδιάγραμμα
- Εμφανίζει εξαρτήσεις με βέλη
- Progress bars σε κάθε εργασία
- Drag & drop για αλλαγή ημερομηνιών

**Timeline/Calendar View**
- Λίστα εργασιών με λεπτομέρειες
- Εμφάνιση progress, assignees, διάρκειας
- Πιο συμπαγής προβολή

### 3. Zoom Controls

Αλλάξτε την κλίμακα του χρονοδιαγράμματος:
- **Ημέρα (Day)** - Λεπτομερής προβολή
- **Εβδομάδα (Week)** - Ισορροπημένη προβολή
- **Μήνας (Month)** - Συνολική εικόνα
- **Τρίμηνο (Quarter)** - Μακροπρόθεσμος σχεδιασμός

**Κουμπί "Σήμερα"**
- Μεταφέρει την προβολή στην τρέχουσα ημερομηνία

---

## 🔗 Εξαρτήσεις Εργασιών (Task Dependencies)

### Τι είναι οι εξαρτήσεις;

Οι εξαρτήσεις καθορίζουν ποιες εργασίες πρέπει να ολοκληρωθούν πριν από άλλες.

### Τύποι Εξαρτήσεων

1. **Must Finish Before** (Πρέπει να τελειώσει πρώτα)
   - Η εργασία A πρέπει να τελειώσει πριν ξεκινήσει η εργασία B
   - Συνηθέστερος τύπος εξάρτησης

2. **Blocks** (Μπλοκάρει)
   - Η εργασία A εμποδίζει την εργασία B
   - Χρησιμοποιείται για κρίσιμες εξαρτήσεις

3. **Related** (Σχετική)
   - Οι εργασίες είναι σχετικές αλλά όχι εξαρτώμενες
   - Για πληροφοριακούς σκοπούς

### Πώς να προσθέσετε εξάρτηση

1. Πηγαίνετε στη σελίδα **Tasks**
2. Κάντε κλικ σε μια εργασία για να ανοίξει το modal
3. Κλικ στο κουμπί **"Εξαρτήσεις"**
4. Στην ενότητα "Προσθήκη νέας εξάρτησης":
   - Επιλέξτε την εργασία από την οποία εξαρτάται
   - Επιλέξτε τον τύπο εξάρτησης
   - Κλικ **"Προσθήκη Εξάρτησης"**

### Διαγραφή εξάρτησης

- Στο Dependencies Modal, κλικ στο **X** δίπλα στην εξάρτηση που θέλετε να αφαιρέσετε

### ⚠️ Circular Dependencies Prevention

Το σύστημα **αποτρέπει αυτόματα** τις κυκλικές εξαρτήσεις:
- Αν η εργασία A εξαρτάται από την B
- ΔΕΝ μπορείτε να κάνετε την B να εξαρτάται από την A
- Θα εμφανιστεί μήνυμα σφάλματος: "This would create a circular dependency"

---

## 🎯 Milestones

### Τι είναι τα Milestones;

Τα milestones είναι σημαντικά ορόσημα/στόχοι του project που δεν αντιπροσωπεύουν εργασία αλλά σημείο ελέγχου.

### Δημιουργία Milestone

1. Στη σελίδα Timeline, κλικ **"Νέο Milestone"**
2. Συμπληρώστε:
   - **Ομάδα** - Σε ποια ομάδα ανήκει
   - **Τίτλος** - π.χ. "Phase 1 Complete", "Launch Day"
   - **Περιγραφή** - Προαιρετική λεπτομέρεια
   - **Ημερομηνία Στόχος** - Πότε πρέπει να επιτευχθεί
   - **Κατάσταση** - Upcoming, In Progress, Completed, Missed
3. Κλικ **"Δημιουργία"**

### Προβολή Milestones

- Στο Gantt Chart εμφανίζονται ως **κάθετες γραμμές**
- Το χρώμα υποδεικνύει την κατάσταση:
  - 🟣 **Purple** - Upcoming
  - 🔵 **Blue** - In Progress
  - 🟢 **Green** - Completed
  - 🔴 **Red** - Missed

### Progress Tracking

Κάθε milestone υπολογίζει αυτόματα:
- **Πόσες εργασίες** συνδέονται με αυτό (με deadline πριν την ημερομηνία του milestone)
- **Ποσοστό ολοκλήρωσης** - Πόσες από αυτές είναι completed

---

## 🔴 Critical Path (Κρίσιμο Μονοπάτι)

### Τι είναι το Critical Path;

Το Critical Path είναι η **μακρύτερη αλυσίδα εξαρτώμενων εργασιών** που καθορίζει την ελάχιστη διάρκεια του project.

### Γιατί είναι σημαντικό;

- Οι εργασίες στο critical path **δεν έχουν περιθώριο καθυστέρησης**
- Καθυστέρηση σε αυτές = **καθυστέρηση ολόκληρου του project**
- Πρέπει να παρακολουθούνται στενά

### Ενεργοποίηση Critical Path

1. Κλικ στο κουμπί **"Critical Path"** στα zoom controls
2. Οι εργασίες του critical path θα επισημανθούν με **κόκκινο χρώμα**
3. Θα εμφανιστεί ένα banner με:
   - **Συνολική Διάρκεια** - Πόσες ημέρες διαρκεί το critical path
   - **Εκτιμώμενη Ολοκλήρωση** - Πότε θα τελειώσει το project
   - **Αριθμός Εργασιών** - Πόσες εργασίες περιλαμβάνει

### Πώς υπολογίζεται;

Το σύστημα χρησιμοποιεί:
1. **Topological Sort** - Ταξινομεί εργασίες με βάση εξαρτήσεις
2. **Longest Path Algorithm** - Βρίσκει το μακρύτερο μονοπάτι
3. **Duration Calculation** - Υπολογίζει ημέρες από created_at σε deadline

---

## 👥 Resource View (Προβολή Πόρων)

### Τι δείχνει;

Εμφανίζει κάθε χρήστη ως γραμμή με τις εργασίες που του έχουν ανατεθεί στο χρονοδιάγραμμα.

### Χρήσιμο για:

- **Workload Balancing** - Ποιος έχει πολλές εργασίες;
- **Resource Planning** - Μπορεί κάποιος να αναλάβει άλλη δουλειά;
- **Overallocation Detection** - Πολλές εργασίες την ίδια περίοδο

### Overallocation Warning

Όταν ένας χρήστης έχει **πάνω από 3 ταυτόχρονες εργασίες**, εμφανίζεται με **κόκκινο χρώμα**.

---

## 📈 Progress Bars

### Πώς υπολογίζεται το progress;

1. **Αν υπάρχουν subtasks:**
   - Progress = (Completed Subtasks / Total Subtasks) × 100

2. **Αν ΔΕΝ υπάρχουν subtasks:**
   - COMPLETED = 100%
   - IN_PROGRESS ή IN_REVIEW = 50%
   - TODO ή άλλα = 0%

### Ενημέρωση Progress

Το progress ενημερώνεται **αυτόματα** όταν:
- Ολοκληρώνετε subtasks
- Αλλάζετε την κατάσταση της εργασίας

---

## 🖱️ Drag & Drop

### Αλλαγή ημερομηνιών με Drag

Στο Gantt Chart μπορείτε:
1. **Drag το bar της εργασίας** αριστερά/δεξιά για να αλλάξετε start date
2. **Drag το άκρο του bar** για να αλλάξετε duration/deadline

### Αυτόματη Ενημέρωση

Όταν κάνετε drag:
- Το backend API ενημερώνεται αυτόματα
- Οι εξαρτήσεις επαναϋπολογίζονται
- Το Critical Path ανανεώνεται

### Validation Errors

Αν προσπαθήσετε να δημιουργήσετε conflict (π.χ. εργασία ξεκινάει πριν την εξάρτησή της):
- Θα εμφανιστεί **error message**
- Η αλλαγή δεν θα εφαρμοστεί

---

## 📤 Export PDF

### Πώς να εξάγετε;

1. Ρυθμίστε τα φίλτρα όπως θέλετε
2. Ρυθμίστε το zoom level
3. Ενεργοποιήστε το Critical Path αν θέλετε
4. Κλικ **"Export PDF"**

### Τι περιλαμβάνει;

- Το τρέχον Gantt Chart
- Όλες τις εργασίες και εξαρτήσεις
- Milestones
- Legend (υπόμνημα)
- Ημερομηνία εξαγωγής

---

## 💡 Best Practices

### 1. Εξαρτήσεις

✅ **DO:**
- Χρησιμοποιείτε "Must Finish Before" για πραγματικές εξαρτήσεις
- Προσθέτετε "Related" για πληροφοριακούς λόγους
- Κρατάτε τον γράφο απλό και κατανοητό

❌ **DON'T:**
- Μην δημιουργείτε περιττές εξαρτήσεις
- Μην κάνετε υπερβολικά πολύπλοκο γράφο

### 2. Milestones

✅ **DO:**
- Τοποθετείτε milestones σε κρίσιμα σημεία (end of phase, launch date)
- Χρησιμοποιείτε περιγραφικά ονόματα
- Ενημερώνετε την κατάσταση τακτικά

❌ **DON'T:**
- Μην βάζετε πάρα πολλά milestones (κάντε noise)
- Μην τα αγνοείτε όταν missed

### 3. Critical Path

✅ **DO:**
- Παρακολουθείτε καθημερινά τις εργασίες του critical path
- Δίνετε προτεραιότητα σε αυτές
- Ενημερώνετε αμέσως αν υπάρχει καθυστέρηση

❌ **DON'T:**
- Μην αφήνετε critical path tasks χωρίς assignee
- Μην παραβλέπετε τα warnings

### 4. Χρονοδιάγραμμα

✅ **DO:**
- Ορίστε ρεαλιστικά deadlines
- Αφήστε buffer time για προβλήματα
- Χρησιμοποιείτε subtasks για πιο ακριβές progress tracking

❌ **DON'T:**
- Μην βάζετε όλα στο ίδιο deadline
- Μην ξεχνάτε να ενημερώνετε την κατάσταση

---

## ❓ Συχνές Ερωτήσεις (FAQ)

### Q: Μπορώ να έχω πολλαπλά critical paths;

A: Όχι, το σύστημα υπολογίζει **ένα** critical path - το μακρύτερο μονοπάτι. Ωστόσο, μπορεί να υπάρχουν πολλά near-critical paths.

### Q: Τι γίνεται αν διαγράψω μια εργασία που έχει εξαρτήσεις;

A: Όλες οι εξαρτήσεις που σχετίζονται με αυτή την εργασία **διαγράφονται αυτόματα** (cascade delete).

### Q: Μπορώ να έχω εξάρτηση μεταξύ εργασιών από διαφορετικές ομάδες;

A: **Ναι!** Οι εξαρτήσεις λειτουργούν σε όλο το σύστημα, όχι μόνο εντός ομάδας.

### Q: Πώς αλλάζω ή διαγράφω ένα milestone;

A: Προς το παρόν από το Timeline page μπορείτε μόνο να δημιουργήσετε. Για edit/delete χρησιμοποιήστε το API ή προσθέστε την λειτουργία στο UI.

### Q: Το Gantt Chart δεν εμφανίζεται;

A: Ελέγξτε:
1. Έχετε εργασίες με deadlines;
2. Τα φίλτρα σας δεν αποκλείουν όλες τις εργασίες;
3. Το JavaScript έχει φορτώσει σωστά; (Check console)

---

## 🔧 Τεχνικές Λεπτομέρειες

### Database Tables

- **task_dependencies** - Αποθηκεύει εξαρτήσεις
- **milestones** - Αποθηκεύει milestones

### API Endpoints

- `GET /api/tasks/timeline.php` - Timeline data
- `GET /api/tasks/critical-path.php` - Critical path calculation
- `GET /api/tasks/dependencies.php` - Dependencies list
- `POST /api/tasks/dependencies.php` - Add dependency
- `DELETE /api/tasks/dependencies.php?id=X` - Remove dependency
- `GET /api/milestones/index.php` - Milestones list
- `POST /api/milestones/index.php` - Create milestone

### Libraries Used

- **Frappe Gantt** (v0.6.1) - Gantt chart rendering
- **Alpine.js** (v3.x) - Reactive UI
- **Tailwind CSS** - Styling

---

## 📞 Υποστήριξη

Αν αντιμετωπίζετε προβλήματα:
1. Ελέγξτε το browser console για errors
2. Βεβαιωθείτε ότι έχετε τα απαραίτητα permissions (ADMIN or team member)
3. Επαληθεύστε ότι το database schema είναι ενημερωμένο

---

**Version:** 1.0  
**Last Updated:** December 2025  
**Author:** TaskMesh Development Team
